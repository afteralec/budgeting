#!/user/bin/env ruby

require './config/environment'

i = Interface.new

# i.art_of_budgeting

i.main_menu

i = nil

# Order of Operations: Extension
# 1. Build the Category object and table
# 2. Link Expense to Category and Category to Budget
# 3. Create menu loops using below ideas and separate everything into modules
# 4. Add more exit options to every menu
# 5. Trade the prompt.yes? for a prompt.select
# 6. Look at building helper methods for the menus

# Ideas:
# 1. Create a window instance variable to track what's happening in the 'window' in the terminal
# 2. Use the above to loop a menu instead of endless stacks

#Some notes on flow of the interface:

# X Welcome the user, ask if they're new here
# X + If new, go to user creation, then sign in
# X - If not, ask for their email
# X - (STRETCH) ask for their password
# X When they sign in, create an instance of the User class from their data in the db - this is our user
# X (STRETCH) Add an option here to check what budget they currently have open, saved to the db

# X Option menu for opening an existing budget or creating new > this goes to Budget Menu

# Budget Menu: (Currently this is just creating bank accounts and logging transactions)
# + Wallet (bank_accounts)

# +> Wallet
#  + Add New Bank Account > This goes to 'Add New Bank Account' flow
#  + Options for each existing bank account > This goes to 'View Bank Account' flow

# Add New Bank Account
# + Bank Name:
# + (STRETCH) Do You Want to Link This Account?
#  + (STRETCH) Y > this goes to Link Account menu (NOT BUILT)
#  + (STRETCH) N > this skips to the next option
# + Starting Balance:
# (COMPLETION) Created! > Goes back to 'Wallet' menu

# View Bank Account
# + Bank Name, Current Balance
# + (STRETCH) Alert when unapproved transactions
# + (STRETCH) Reconcile Account > This goes to 'Reconcile Account' dialog
# + View Full Transaction History > This goes to 'View Full Transaction History' menu
# + List of last five transactions

# View Full Transaction History Menu
# + 'Back to Bank Account' option at the top
# + Scroll Down
# - Scroll Up
# ++ Print a log of transactions

# (STRETCH) Reconcile Account dialog
# ? (STRETCH) Is the current balance of your account X?
# + (STRETCH) If Y, reconcile all cleared transactions > this goes back to View Bank Account
# - (STRETCH) If N, print note about reconciliation > this goes back to View Bank Account

# binding.pry
